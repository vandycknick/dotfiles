#!/usr/bin/env bash
set -g default-terminal "screen-256color"
set -ag terminal-overrides "xterm-256color:RGB"

set -g default-command "$SHELL"

set -g mouse on
setw -g mode-keys vi

set-option -g set-titles on
set-option -g set-titles-string "#S / #W"
set-option -g status-position top
set -g base-index 1
setw -g pane-base-index 1

springGreen="#98BB6C"
sumiInk0="#16161D"
fujiWhite="#DCD7BA"
surimiOrange="#FFA066"
autumnYellow="#DCA561"

set -g message-style "bg=$sumiInk0,fg=$fujiWhite"

set -g status-style "bg=$sumiInk0,fg=$fujiWhite"
set -g status-left-length "100"
set -g status-left "#[fg=$sumiInk0,bg=$autumnYellow,bold] #{?client_prefix,󰠠 ,#[dim]󰤂 }#[fg=$sumiInk0,bg=$autumnYellow,bold,nodim]#S #[bg=$sumiInk0] "

set-window-option -g window-status-style "fg=#bd93f9,bg=default"
set-window-option -g window-status-current-style "fg=#ff79c6,bg=#282a36"

# Focus
set -g window-status-current-format "#[fg=$springGreen,bg=#1F1F28]   #[fg=#DCD7BA]#I #[bold,nodim]#W#[nobold,dim]#{?window_zoomed_flag, #F,} #{?window_last_flag,,} "
# Unfocused
set -g window-status-format "#[fg=#DCD7BA,bg=#1a1a22,none,dim]   #I #W#[nobold,dim]#{?window_zoomed_flag, #F,}#[fg=#f9d791,blink] #{?window_last_flag,󰁯 ,} "

set -g status-right-length "100"
set -g status-right "#[fg=#DCD7BA,bg=default,none,dim]#[fg=$springGreen]  #(whoami) "

# Keybindings
bind -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "xclip -i -f -selection primary | xclip -i -selection clipboard"
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "xclip -i -f -selection primary | xclip -i -selection clipboard"
bind-key -r f run-shell "tmux neww ~/.local/bin/tmux-sessionizer"

# Plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-pain-control'
set -g @plugin 'tmux-plugins/tmux-cowboy'

# Initialize TMUX plugin manager (keep this line at the very bottom of .tmux.conf)
run "$XDG_CONFIG_HOME/tmux/plugins/tpm/tpm"
